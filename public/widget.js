var ChatboxWidget=function(T){"use strict";var Lr=Object.defineProperty;var Pr=(T,B,te)=>B in T?Lr(T,B,{enumerable:!0,configurable:!0,writable:!0,value:te}):T[B]=te;var b=(T,B,te)=>Pr(T,typeof B!="symbol"?B+"":B,te);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var es,Wt;const B=globalThis,te=B.ShadowRoot&&(B.ShadyCSS===void 0||B.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,mt=Symbol(),an=new WeakMap;let ln=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==mt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(te&&e===void 0){const n=t!==void 0&&t.length===1;n&&(e=an.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&an.set(t,e))}return e}toString(){return this.cssText}};const Rs=s=>new ln(typeof s=="string"?s:s+"",void 0,mt),vs=(s,...e)=>{const t=s.length===1?s[0]:e.reduce((n,i,r)=>n+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+s[r+1],s[0]);return new ln(t,s,mt)},Cs=(s,e)=>{if(te)s.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of e){const n=document.createElement("style"),i=B.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=t.cssText,s.appendChild(n)}},cn=te?s=>s:s=>s instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return Rs(t)})(s):s;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Is,defineProperty:Os,getOwnPropertyDescriptor:Ls,getOwnPropertyNames:Ps,getOwnPropertySymbols:Ns,getPrototypeOf:Ms}=Object,ne=globalThis,hn=ne.trustedTypes,Ds=hn?hn.emptyScript:"",bt=ne.reactiveElementPolyfillSupport,$e=(s,e)=>s,Ye={toAttribute(s,e){switch(e){case Boolean:s=s?Ds:null;break;case Object:case Array:s=s==null?s:JSON.stringify(s)}return s},fromAttribute(s,e){let t=s;switch(e){case Boolean:t=s!==null;break;case Number:t=s===null?null:Number(s);break;case Object:case Array:try{t=JSON.parse(s)}catch{t=null}}return t}},kt=(s,e)=>!Is(s,e),pn={attribute:!0,type:String,converter:Ye,reflect:!1,useDefault:!1,hasChanged:kt};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ne.litPropertyMetadata??(ne.litPropertyMetadata=new WeakMap);let me=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=pn){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,t);i!==void 0&&Os(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){const{get:i,set:r}=Ls(this.prototype,e)??{get(){return this[t]},set(a){this[t]=a}};return{get:i,set(a){const l=i==null?void 0:i.call(this);r==null||r.call(this,a),this.requestUpdate(e,l,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??pn}static _$Ei(){if(this.hasOwnProperty($e("elementProperties")))return;const e=Ms(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty($e("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty($e("properties"))){const t=this.properties,n=[...Ps(t),...Ns(t)];for(const i of n)this.createProperty(i,t[i])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[n,i]of t)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[t,n]of this.elementProperties){const i=this._$Eu(t,n);i!==void 0&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)t.unshift(cn(i))}else e!==void 0&&t.push(cn(e));return t}static _$Eu(e,t){const n=t.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((t=e.hostConnected)==null||t.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Cs(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(t=>{var n;return(n=t.hostConnected)==null?void 0:n.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var n;return(n=t.hostDisconnected)==null?void 0:n.call(t)})}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){var r;const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const a=(((r=n.converter)==null?void 0:r.toAttribute)!==void 0?n.converter:Ye).toAttribute(t,n.type);this._$Em=e,a==null?this.removeAttribute(i):this.setAttribute(i,a),this._$Em=null}}_$AK(e,t){var r,a;const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const l=n.getPropertyOptions(i),c=typeof l.converter=="function"?{fromAttribute:l.converter}:((r=l.converter)==null?void 0:r.fromAttribute)!==void 0?l.converter:Ye;this._$Em=i;const h=c.fromAttribute(t,l.type);this[i]=h??((a=this._$Ej)==null?void 0:a.get(i))??h,this._$Em=null}}requestUpdate(e,t,n){var i;if(e!==void 0){const r=this.constructor,a=this[e];if(n??(n=r.getPropertyOptions(e)),!((n.hasChanged??kt)(a,t)||n.useDefault&&n.reflect&&a===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(r._$Eu(e,n))))return;this.C(e,t,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:i,wrapped:r},a){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,a??t??this[e]),r!==!0||a!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[r,a]of this._$Ep)this[r]=a;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[r,a]of i){const{wrapped:l}=a,c=this[r];l!==!0||this._$AL.has(r)||c===void 0||this.C(r,void 0,a,c)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(n=this._$EO)==null||n.forEach(i=>{var r;return(r=i.hostUpdate)==null?void 0:r.call(i)}),this.update(t)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}};me.elementStyles=[],me.shadowRootOptions={mode:"open"},me[$e("elementProperties")]=new Map,me[$e("finalized")]=new Map,bt==null||bt({ReactiveElement:me}),(ne.reactiveElementVersions??(ne.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Re=globalThis,Xe=Re.trustedTypes,un=Xe?Xe.createPolicy("lit-html",{createHTML:s=>s}):void 0,dn="$lit$",se=`lit$${Math.random().toFixed(9).slice(2)}$`,fn="?"+se,zs=`<${fn}>`,ie=document,ve=()=>ie.createComment(""),Ce=s=>s===null||typeof s!="object"&&typeof s!="function",_t=Array.isArray,Us=s=>_t(s)||typeof(s==null?void 0:s[Symbol.iterator])=="function",xt=`[ 	
\f\r]`,Ie=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,gn=/-->/g,mn=/>/g,re=RegExp(`>|${xt}(?:([^\\s"'>=/]+)(${xt}*=${xt}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),bn=/'/g,kn=/"/g,_n=/^(?:script|style|textarea|title)$/i,Hs=s=>(e,...t)=>({_$litType$:s,strings:e,values:t}),Oe=Hs(1),oe=Symbol.for("lit-noChange"),E=Symbol.for("lit-nothing"),xn=new WeakMap,ae=ie.createTreeWalker(ie,129);function yn(s,e){if(!_t(s)||!s.hasOwnProperty("raw"))throw Error("invalid template strings array");return un!==void 0?un.createHTML(e):e}const Bs=(s,e)=>{const t=s.length-1,n=[];let i,r=e===2?"<svg>":e===3?"<math>":"",a=Ie;for(let l=0;l<t;l++){const c=s[l];let h,p,g=-1,d=0;for(;d<c.length&&(a.lastIndex=d,p=a.exec(c),p!==null);)d=a.lastIndex,a===Ie?p[1]==="!--"?a=gn:p[1]!==void 0?a=mn:p[2]!==void 0?(_n.test(p[2])&&(i=RegExp("</"+p[2],"g")),a=re):p[3]!==void 0&&(a=re):a===re?p[0]===">"?(a=i??Ie,g=-1):p[1]===void 0?g=-2:(g=a.lastIndex-p[2].length,h=p[1],a=p[3]===void 0?re:p[3]==='"'?kn:bn):a===kn||a===bn?a=re:a===gn||a===mn?a=Ie:(a=re,i=void 0);const x=a===re&&s[l+1].startsWith("/>")?" ":"";r+=a===Ie?c+zs:g>=0?(n.push(h),c.slice(0,g)+dn+c.slice(g)+se+x):c+se+(g===-2?l:x)}return[yn(s,r+(s[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};let yt=class Es{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let r=0,a=0;const l=e.length-1,c=this.parts,[h,p]=Bs(e,t);if(this.el=Es.createElement(h,n),ae.currentNode=this.el.content,t===2||t===3){const g=this.el.content.firstChild;g.replaceWith(...g.childNodes)}for(;(i=ae.nextNode())!==null&&c.length<l;){if(i.nodeType===1){if(i.hasAttributes())for(const g of i.getAttributeNames())if(g.endsWith(dn)){const d=p[a++],x=i.getAttribute(g).split(se),_=/([.?@])?(.*)/.exec(d);c.push({type:1,index:r,name:_[2],strings:x,ctor:_[1]==="."?Ws:_[1]==="?"?qs:_[1]==="@"?Gs:Ve}),i.removeAttribute(g)}else g.startsWith(se)&&(c.push({type:6,index:r}),i.removeAttribute(g));if(_n.test(i.tagName)){const g=i.textContent.split(se),d=g.length-1;if(d>0){i.textContent=Xe?Xe.emptyScript:"";for(let x=0;x<d;x++)i.append(g[x],ve()),ae.nextNode(),c.push({type:2,index:++r});i.append(g[d],ve())}}}else if(i.nodeType===8)if(i.data===fn)c.push({type:2,index:r});else{let g=-1;for(;(g=i.data.indexOf(se,g+1))!==-1;)c.push({type:7,index:r}),g+=se.length-1}r++}}static createElement(e,t){const n=ie.createElement("template");return n.innerHTML=e,n}};function be(s,e,t=s,n){var a,l;if(e===oe)return e;let i=n!==void 0?(a=t._$Co)==null?void 0:a[n]:t._$Cl;const r=Ce(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==r&&((l=i==null?void 0:i._$AO)==null||l.call(i,!1),r===void 0?i=void 0:(i=new r(s),i._$AT(s,t,n)),n!==void 0?(t._$Co??(t._$Co=[]))[n]=i:t._$Cl=i),i!==void 0&&(e=be(s,i._$AS(s,e.values),i,n)),e}let Fs=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??ie).importNode(t,!0);ae.currentNode=i;let r=ae.nextNode(),a=0,l=0,c=n[0];for(;c!==void 0;){if(a===c.index){let h;c.type===2?h=new At(r,r.nextSibling,this,e):c.type===1?h=new c.ctor(r,c.name,c.strings,this,e):c.type===6&&(h=new js(r,this,e)),this._$AV.push(h),c=n[++l]}a!==(c==null?void 0:c.index)&&(r=ae.nextNode(),a++)}return ae.currentNode=ie,i}p(e){let t=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}},At=class $s{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,t,n,i){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=be(this,e,t),Ce(e)?e===E||e==null||e===""?(this._$AH!==E&&this._$AR(),this._$AH=E):e!==this._$AH&&e!==oe&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Us(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==E&&Ce(this._$AH)?this._$AA.nextSibling.data=e:this.T(ie.createTextNode(e)),this._$AH=e}$(e){var r;const{values:t,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=yt.createElement(yn(n.h,n.h[0]),this.options)),n);if(((r=this._$AH)==null?void 0:r._$AD)===i)this._$AH.p(t);else{const a=new Fs(i,this),l=a.u(this.options);a.p(t),this.T(l),this._$AH=a}}_$AC(e){let t=xn.get(e.strings);return t===void 0&&xn.set(e.strings,t=new yt(e)),t}k(e){_t(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const r of e)i===t.length?t.push(n=new $s(this.O(ve()),this.O(ve()),this,this.options)):n=t[i],n._$AI(r),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,t);e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}},Ve=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,i,r){this.type=1,this._$AH=E,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=r,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=E}_$AI(e,t=this,n,i){const r=this.strings;let a=!1;if(r===void 0)e=be(this,e,t,0),a=!Ce(e)||e!==this._$AH&&e!==oe,a&&(this._$AH=e);else{const l=e;let c,h;for(e=r[0],c=0;c<r.length-1;c++)h=be(this,l[n+c],t,c),h===oe&&(h=this._$AH[c]),a||(a=!Ce(h)||h!==this._$AH[c]),h===E?e=E:e!==E&&(e+=(h??"")+r[c+1]),this._$AH[c]=h}a&&!i&&this.j(e)}j(e){e===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Ws=class extends Ve{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===E?void 0:e}},qs=class extends Ve{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==E)}},Gs=class extends Ve{constructor(e,t,n,i,r){super(e,t,n,i,r),this.type=5}_$AI(e,t=this){if((e=be(this,e,t,0)??E)===oe)return;const n=this._$AH,i=e===E&&n!==E||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,r=e!==E&&(n===E||i);i&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,e):this._$AH.handleEvent(e)}},js=class{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){be(this,e)}};const wt=Re.litHtmlPolyfillSupport;wt==null||wt(yt,At),(Re.litHtmlVersions??(Re.litHtmlVersions=[])).push("3.3.1");const Zs=(s,e,t)=>{const n=(t==null?void 0:t.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const r=(t==null?void 0:t.renderBefore)??null;n._$litPart$=i=new At(e.insertBefore(ve(),r),r,void 0,t??{})}return i._$AI(s),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const le=globalThis;let Le=class extends me{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const e=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=e.firstChild),e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Zs(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return oe}};Le._$litElement$=!0,Le.finalized=!0,(es=le.litElementHydrateSupport)==null||es.call(le,{LitElement:Le});const Tt=le.litElementPolyfillSupport;Tt==null||Tt({LitElement:Le}),(le.litElementVersions??(le.litElementVersions=[])).push("4.2.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ys=s=>(e,t)=>{t!==void 0?t.addInitializer(()=>{customElements.define(s,e)}):customElements.define(s,e)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Xs={attribute:!0,type:String,converter:Ye,reflect:!1,hasChanged:kt},Vs=(s=Xs,e,t)=>{const{kind:n,metadata:i}=t;let r=globalThis.litPropertyMetadata.get(i);if(r===void 0&&globalThis.litPropertyMetadata.set(i,r=new Map),n==="setter"&&((s=Object.create(s)).wrapped=!0),r.set(t.name,s),n==="accessor"){const{name:a}=t;return{set(l){const c=e.get.call(this);e.set.call(this,l),this.requestUpdate(a,c,s)},init(l){return l!==void 0&&this.C(a,void 0,s,l),l}}}if(n==="setter"){const{name:a}=t;return function(l){const c=this[a];e.call(this,l),this.requestUpdate(a,c,s)}}throw Error("Unsupported decorator location: "+n)};function ke(s){return(e,t)=>typeof t=="object"?Vs(s,e,t):((n,i,r)=>{const a=i.hasOwnProperty(r);return i.constructor.createProperty(r,n),a?Object.getOwnPropertyDescriptor(i,r):void 0})(s,e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function _e(s){return ke({...s,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ks={CHILD:2},Qs=s=>(...e)=>({_$litDirective$:s,values:e});class Js{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class St extends Js{constructor(e){if(super(e),this.it=E,e.type!==Ks.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===E||e==null)return this._t=void 0,this.it=e;if(e===oe)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}St.directiveName="unsafeHTML",St.resultType=1;const ei=Qs(St),Z={TOKEN:"chatbot-token",SESSION_ID:"chatbot-session-id",EXPIRES_AT:"chatbot-expires-at"};function ti(s){return new Date(s).getTime()<Date.now()}function ni(){const s=localStorage.getItem(Z.TOKEN),e=localStorage.getItem(Z.EXPIRES_AT),t=localStorage.getItem(Z.SESSION_ID);return!s||!e||!t?null:ti(e)?(console.log("[SessionService] Stored session expired. Clearing..."),si(),null):{token:s,sessionId:t,expiresAt:e}}function si(){localStorage.removeItem(Z.TOKEN),localStorage.removeItem(Z.SESSION_ID),localStorage.removeItem(Z.EXPIRES_AT)}async function ii(s){console.log("[SessionService] Requesting new session...");try{const e=await fetch("http://localhost:3000/session/initiate",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":s},body:JSON.stringify({origin:window.location.origin})});if(!e.ok){const l=await e.json();throw new Error(l.error||"Failed to initiate session")}const{token:t,sessionId:n,expiresIn:i}=await e.json(),r=new Date(Date.now()+i*1e3).toISOString();localStorage.setItem(Z.TOKEN,t),localStorage.setItem(Z.SESSION_ID,n),localStorage.setItem(Z.EXPIRES_AT,r);const a={token:t,sessionId:n,expiresAt:r};return console.log("[SessionService] New session initiated and stored:",a),a}catch(e){throw console.error("[SessionService] Error requesting new session:",e),e}}function An(s,e){console.log("[SessionService] Using session:",s),e(s.token,s.sessionId)}var Y=(s=>(s.User="user",s.Assistant="assistant",s))(Y||{});const ri=Object.values(Y);function oi(s){return typeof s=="string"&&ri.includes(s)}function ai(s){return oi(s)?s:Y.User}async function li(s,e,t,n){console.log("[MessageService] Sending message...");try{const i={"Content-Type":"application/json",Authorization:`Bearer ${t}`,"x-session-id":n},r=e.map(c=>({role:ai(c.role),content:c.content})),a=await fetch("http://localhost:3000/api/chat/generate",{method:"POST",headers:i,body:JSON.stringify({messages:r,sessionId:n})});if(!a.ok){const c=await a.json();throw new Error(c.error||"Failed to get AI response")}const l=await a.json();return console.log("[MessageService] Received AI response:",l),l.response}catch(i){throw console.error("[MessageService] Error sending message:",i),i}}function Et(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ce=Et();function wn(s){ce=s}var Pe={exec:()=>null};function y(s,e=""){let t=typeof s=="string"?s:s.source,n={replace:(i,r)=>{let a=typeof r=="string"?r:r.source;return a=a.replace(N.caret,"$1"),t=t.replace(i,a),n},getRegex:()=>new RegExp(t,e)};return n}var N={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:s=>new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}#`),htmlBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}<(?:[a-z].*>|!--)`,"i")},ci=/^(?:[ \t]*(?:\n|$))+/,hi=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,pi=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ne=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ui=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,$t=/(?:[*+-]|\d{1,9}[.)])/,Tn=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Sn=y(Tn).replace(/bull/g,$t).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),di=y(Tn).replace(/bull/g,$t).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Rt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,fi=/^[^\n]+/,vt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,gi=y(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",vt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),mi=y(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,$t).getRegex(),Ke="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ct=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,bi=y("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ct).replace("tag",Ke).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),En=y(Rt).replace("hr",Ne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke).getRegex(),ki=y(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",En).getRegex(),It={blockquote:ki,code:hi,def:gi,fences:pi,heading:ui,hr:Ne,html:bi,lheading:Sn,list:mi,newline:ci,paragraph:En,table:Pe,text:fi},$n=y("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke).getRegex(),_i={...It,lheading:di,table:$n,paragraph:y(Rt).replace("hr",Ne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$n).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke).getRegex()},xi={...It,html:y(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ct).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:y(Rt).replace("hr",Ne).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Sn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},yi=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ai=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Rn=/^( {2,}|\\)\n(?!\s*$)/,wi=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Qe=/[\p{P}\p{S}]/u,Ot=/[\s\p{P}\p{S}]/u,vn=/[^\s\p{P}\p{S}]/u,Ti=y(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ot).getRegex(),Cn=/(?!~)[\p{P}\p{S}]/u,Si=/(?!~)[\s\p{P}\p{S}]/u,Ei=/(?:[^\s\p{P}\p{S}]|~)/u,$i=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,In=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Ri=y(In,"u").replace(/punct/g,Qe).getRegex(),vi=y(In,"u").replace(/punct/g,Cn).getRegex(),On="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ci=y(On,"gu").replace(/notPunctSpace/g,vn).replace(/punctSpace/g,Ot).replace(/punct/g,Qe).getRegex(),Ii=y(On,"gu").replace(/notPunctSpace/g,Ei).replace(/punctSpace/g,Si).replace(/punct/g,Cn).getRegex(),Oi=y("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,vn).replace(/punctSpace/g,Ot).replace(/punct/g,Qe).getRegex(),Li=y(/\\(punct)/,"gu").replace(/punct/g,Qe).getRegex(),Pi=y(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ni=y(Ct).replace("(?:-->|$)","-->").getRegex(),Mi=y("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ni).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Je=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Di=y(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Je).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ln=y(/^!?\[(label)\]\[(ref)\]/).replace("label",Je).replace("ref",vt).getRegex(),Pn=y(/^!?\[(ref)\](?:\[\])?/).replace("ref",vt).getRegex(),zi=y("reflink|nolink(?!\\()","g").replace("reflink",Ln).replace("nolink",Pn).getRegex(),Lt={_backpedal:Pe,anyPunctuation:Li,autolink:Pi,blockSkip:$i,br:Rn,code:Ai,del:Pe,emStrongLDelim:Ri,emStrongRDelimAst:Ci,emStrongRDelimUnd:Oi,escape:yi,link:Di,nolink:Pn,punctuation:Ti,reflink:Ln,reflinkSearch:zi,tag:Mi,text:wi,url:Pe},Ui={...Lt,link:y(/^!?\[(label)\]\((.*?)\)/).replace("label",Je).getRegex(),reflink:y(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Je).getRegex()},Pt={...Lt,emStrongRDelimAst:Ii,emStrongLDelim:vi,url:y(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Hi={...Pt,br:y(Rn).replace("{2,}","*").getRegex(),text:y(Pt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},et={normal:It,gfm:_i,pedantic:xi},Me={normal:Lt,gfm:Pt,breaks:Hi,pedantic:Ui},Bi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nn=s=>Bi[s];function G(s,e){if(e){if(N.escapeTest.test(s))return s.replace(N.escapeReplace,Nn)}else if(N.escapeTestNoEncode.test(s))return s.replace(N.escapeReplaceNoEncode,Nn);return s}function Mn(s){try{s=encodeURI(s).replace(N.percentDecode,"%")}catch{return null}return s}function Dn(s,e){var r;let t=s.replace(N.findPipe,(a,l,c)=>{let h=!1,p=l;for(;--p>=0&&c[p]==="\\";)h=!h;return h?"|":" |"}),n=t.split(N.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!((r=n.at(-1))!=null&&r.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(N.slashPipe,"|");return n}function De(s,e,t){let n=s.length;if(n===0)return"";let i=0;for(;i<n&&s.charAt(n-i-1)===e;)i++;return s.slice(0,n-i)}function Fi(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<s.length;n++)if(s[n]==="\\")n++;else if(s[n]===e[0])t++;else if(s[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function zn(s,e,t,n,i){let r=e.href,a=e.title||null,l=s[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let c={type:s[0].charAt(0)==="!"?"image":"link",raw:t,href:r,title:a,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,c}function Wi(s,e,t){let n=s.match(t.other.indentCodeCompensation);if(n===null)return e;let i=n[1];return e.split(`
`).map(r=>{let a=r.match(t.other.beginningSpace);if(a===null)return r;let[l]=a;return l.length>=i.length?r.slice(i.length):r}).join(`
`)}var tt=class{constructor(s){b(this,"options");b(this,"rules");b(this,"lexer");this.options=s||ce}space(s){let e=this.rules.block.newline.exec(s);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(s){let e=this.rules.block.code.exec(s);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:De(t,`
`)}}}fences(s){let e=this.rules.block.fences.exec(s);if(e){let t=e[0],n=Wi(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(s){let e=this.rules.block.heading.exec(s);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let n=De(t,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(t=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(s){let e=this.rules.block.hr.exec(s);if(e)return{type:"hr",raw:De(e[0],`
`)}}blockquote(s){let e=this.rules.block.blockquote.exec(s);if(e){let t=De(e[0],`
`).split(`
`),n="",i="",r=[];for(;t.length>0;){let a=!1,l=[],c;for(c=0;c<t.length;c++)if(this.rules.other.blockquoteStart.test(t[c]))l.push(t[c]),a=!0;else if(!a)l.push(t[c]);else break;t=t.slice(c);let h=l.join(`
`),p=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${h}`:h,i=i?`${i}
${p}`:p;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,r,!0),this.lexer.state.top=g,t.length===0)break;let d=r.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){let x=d,_=x.raw+`
`+t.join(`
`),O=this.blockquote(_);r[r.length-1]=O,n=n.substring(0,n.length-x.raw.length)+O.raw,i=i.substring(0,i.length-x.text.length)+O.text;break}else if((d==null?void 0:d.type)==="list"){let x=d,_=x.raw+`
`+t.join(`
`),O=this.list(_);r[r.length-1]=O,n=n.substring(0,n.length-d.raw.length)+O.raw,i=i.substring(0,i.length-x.raw.length)+O.raw,t=_.substring(r.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:r,text:i}}}list(s){let e=this.rules.block.list.exec(s);if(e){let t=e[1].trim(),n=t.length>1,i={type:"list",raw:"",ordered:n,start:n?+t.slice(0,-1):"",loose:!1,items:[]};t=n?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=n?t:"[*+-]");let r=this.rules.other.listItemRegex(t),a=!1;for(;s;){let c=!1,h="",p="";if(!(e=r.exec(s))||this.rules.block.hr.test(s))break;h=e[0],s=s.substring(h.length);let g=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,We=>" ".repeat(3*We.length)),d=s.split(`
`,1)[0],x=!g.trim(),_=0;if(this.options.pedantic?(_=2,p=g.trimStart()):x?_=e[1].length+1:(_=e[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,p=g.slice(_),_+=e[1].length),x&&this.rules.other.blankLine.test(d)&&(h+=d+`
`,s=s.substring(d.length+1),c=!0),!c){let We=this.rules.other.nextBulletRegex(_),lt=this.rules.other.hrRegex(_),pe=this.rules.other.fencesBeginRegex(_),R=this.rules.other.headingBeginRegex(_),ue=this.rules.other.htmlBeginRegex(_);for(;s;){let de=s.split(`
`,1)[0],fe;if(d=de,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),fe=d):fe=d.replace(this.rules.other.tabCharGlobal,"    "),pe.test(d)||R.test(d)||ue.test(d)||We.test(d)||lt.test(d))break;if(fe.search(this.rules.other.nonSpaceChar)>=_||!d.trim())p+=`
`+fe.slice(_);else{if(x||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||pe.test(g)||R.test(g)||lt.test(g))break;p+=`
`+d}!x&&!d.trim()&&(x=!0),h+=de+`
`,s=s.substring(de.length+1),g=fe.slice(_)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(a=!0));let O=null,at;this.options.gfm&&(O=this.rules.other.listIsTask.exec(p),O&&(at=O[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:h,task:!!O,checked:at,loose:!1,text:p,tokens:[]}),i.raw+=h}let l=i.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let c=0;c<i.items.length;c++)if(this.lexer.state.top=!1,i.items[c].tokens=this.lexer.blockTokens(i.items[c].text,[]),!i.loose){let h=i.items[c].tokens.filter(g=>g.type==="space"),p=h.length>0&&h.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=p}if(i.loose)for(let c=0;c<i.items.length;c++)i.items[c].loose=!0;return i}}html(s){let e=this.rules.block.html.exec(s);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(s){let e=this.rules.block.def.exec(s);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:i}}}table(s){var a;let e=this.rules.block.table.exec(s);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=Dn(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=e[3])!=null&&a.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],r={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===n.length){for(let l of n)this.rules.other.tableAlignRight.test(l)?r.align.push("right"):this.rules.other.tableAlignCenter.test(l)?r.align.push("center"):this.rules.other.tableAlignLeft.test(l)?r.align.push("left"):r.align.push(null);for(let l=0;l<t.length;l++)r.header.push({text:t[l],tokens:this.lexer.inline(t[l]),header:!0,align:r.align[l]});for(let l of i)r.rows.push(Dn(l,r.header.length).map((c,h)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:r.align[h]})));return r}}lheading(s){let e=this.rules.block.lheading.exec(s);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(s){let e=this.rules.block.paragraph.exec(s);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(s){let e=this.rules.block.text.exec(s);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(s){let e=this.rules.inline.escape.exec(s);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(s){let e=this.rules.inline.tag.exec(s);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(s){let e=this.rules.inline.link.exec(s);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let r=De(t.slice(0,-1),"\\");if((t.length-r.length)%2===0)return}else{let r=Fi(e[2],"()");if(r===-2)return;if(r>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+r;e[2]=e[2].substring(0,r),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let n=e[2],i="";if(this.options.pedantic){let r=this.rules.other.pedanticHrefTitle.exec(n);r&&(n=r[1],i=r[3])}else i=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n=n.slice(1):n=n.slice(1,-1)),zn(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(s,e){let t;if((t=this.rules.inline.reflink.exec(s))||(t=this.rules.inline.nolink.exec(s))){let n=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[n.toLowerCase()];if(!i){let r=t[0].charAt(0);return{type:"text",raw:r,text:r}}return zn(t,i,t[0],this.lexer,this.rules)}}emStrong(s,e,t=""){let n=this.rules.inline.emStrongLDelim.exec(s);if(!(!n||n[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!t||this.rules.inline.punctuation.exec(t))){let i=[...n[0]].length-1,r,a,l=i,c=0,h=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*s.length+i);(n=h.exec(e))!=null;){if(r=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!r)continue;if(a=[...r].length,n[3]||n[4]){l+=a;continue}else if((n[5]||n[6])&&i%3&&!((i+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);let p=[...n[0]][0].length,g=s.slice(0,i+n.index+p+a);if(Math.min(i,a)%2){let x=g.slice(1,-1);return{type:"em",raw:g,text:x,tokens:this.lexer.inlineTokens(x)}}let d=g.slice(2,-2);return{type:"strong",raw:g,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(s){let e=this.rules.inline.code.exec(s);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(t),i=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&i&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(s){let e=this.rules.inline.br.exec(s);if(e)return{type:"br",raw:e[0]}}del(s){let e=this.rules.inline.del.exec(s);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(s){let e=this.rules.inline.autolink.exec(s);if(e){let t,n;return e[2]==="@"?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(s){var t;let e;if(e=this.rules.inline.url.exec(s)){let n,i;if(e[2]==="@")n=e[0],i="mailto:"+n;else{let r;do r=e[0],e[0]=((t=this.rules.inline._backpedal.exec(e[0]))==null?void 0:t[0])??"";while(r!==e[0]);n=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(s){let e=this.rules.inline.text.exec(s);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},X=class rn{constructor(e){b(this,"tokens");b(this,"options");b(this,"state");b(this,"tokenizer");b(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ce,this.options.tokenizer=this.options.tokenizer||new tt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:N,block:et.normal,inline:Me.normal};this.options.pedantic?(t.block=et.pedantic,t.inline=Me.pedantic):this.options.gfm&&(t.block=et.gfm,this.options.breaks?t.inline=Me.breaks:t.inline=Me.gfm),this.tokenizer.rules=t}static get rules(){return{block:et,inline:Me}}static lex(e,t){return new rn(t).lex(e)}static lexInline(e,t){return new rn(t).inlineTokens(e)}lex(e){e=e.replace(N.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var i,r,a;for(this.options.pedantic&&(e=e.replace(N.tabCharGlobal,"    ").replace(N.spaceLine,""));e;){let l;if((r=(i=this.options.extensions)==null?void 0:i.block)!=null&&r.some(h=>(l=h.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);let h=t.at(-1);l.raw.length===1&&h!==void 0?h.raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);let h=t.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.at(-1).src=h.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);let h=t.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=`
`+l.raw,h.text+=`
`+l.raw,this.inlineQueue.at(-1).src=h.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}let c=e;if((a=this.options.extensions)!=null&&a.startBlock){let h=1/0,p=e.slice(1),g;this.options.extensions.startBlock.forEach(d=>{g=d.call({lexer:this},p),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(c=e.substring(0,h+1))}if(this.state.top&&(l=this.tokenizer.paragraph(c))){let h=t.at(-1);n&&(h==null?void 0:h.type)==="paragraph"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):t.push(l),n=c.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);let h=t.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):t.push(l);continue}if(e){let h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var l,c,h;let n=e,i=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let r=!1,a="";for(;e;){r||(a=""),r=!1;let p;if((c=(l=this.options.extensions)==null?void 0:l.inline)!=null&&c.some(d=>(p=d.call({lexer:this},e,t))?(e=e.substring(p.raw.length),t.push(p),!0):!1))continue;if(p=this.tokenizer.escape(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.tag(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.link(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(p.raw.length);let d=t.at(-1);p.type==="text"&&(d==null?void 0:d.type)==="text"?(d.raw+=p.raw,d.text+=p.text):t.push(p);continue}if(p=this.tokenizer.emStrong(e,n,a)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.codespan(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.br(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.del(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.autolink(e)){e=e.substring(p.raw.length),t.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(e))){e=e.substring(p.raw.length),t.push(p);continue}let g=e;if((h=this.options.extensions)!=null&&h.startInline){let d=1/0,x=e.slice(1),_;this.options.extensions.startInline.forEach(O=>{_=O.call({lexer:this},x),typeof _=="number"&&_>=0&&(d=Math.min(d,_))}),d<1/0&&d>=0&&(g=e.substring(0,d+1))}if(p=this.tokenizer.inlineText(g)){e=e.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(a=p.raw.slice(-1)),r=!0;let d=t.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=p.raw,d.text+=p.text):t.push(p);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}},nt=class{constructor(s){b(this,"options");b(this,"parser");this.options=s||ce}space(s){return""}code({text:s,lang:e,escaped:t}){var r;let n=(r=(e||"").match(N.notSpaceStart))==null?void 0:r[0],i=s.replace(N.endingNewline,"")+`
`;return n?'<pre><code class="language-'+G(n)+'">'+(t?i:G(i,!0))+`</code></pre>
`:"<pre><code>"+(t?i:G(i,!0))+`</code></pre>
`}blockquote({tokens:s}){return`<blockquote>
${this.parser.parse(s)}</blockquote>
`}html({text:s}){return s}heading({tokens:s,depth:e}){return`<h${e}>${this.parser.parseInline(s)}</h${e}>
`}hr(s){return`<hr>
`}list(s){let e=s.ordered,t=s.start,n="";for(let a=0;a<s.items.length;a++){let l=s.items[a];n+=this.listitem(l)}let i=e?"ol":"ul",r=e&&t!==1?' start="'+t+'"':"";return"<"+i+r+`>
`+n+"</"+i+`>
`}listitem(s){var t;let e="";if(s.task){let n=this.checkbox({checked:!!s.checked});s.loose?((t=s.tokens[0])==null?void 0:t.type)==="paragraph"?(s.tokens[0].text=n+" "+s.tokens[0].text,s.tokens[0].tokens&&s.tokens[0].tokens.length>0&&s.tokens[0].tokens[0].type==="text"&&(s.tokens[0].tokens[0].text=n+" "+G(s.tokens[0].tokens[0].text),s.tokens[0].tokens[0].escaped=!0)):s.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(s.tokens,!!s.loose),`<li>${e}</li>
`}checkbox({checked:s}){return"<input "+(s?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:s}){return`<p>${this.parser.parseInline(s)}</p>
`}table(s){let e="",t="";for(let i=0;i<s.header.length;i++)t+=this.tablecell(s.header[i]);e+=this.tablerow({text:t});let n="";for(let i=0;i<s.rows.length;i++){let r=s.rows[i];t="";for(let a=0;a<r.length;a++)t+=this.tablecell(r[a]);n+=this.tablerow({text:t})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:s}){return`<tr>
${s}</tr>
`}tablecell(s){let e=this.parser.parseInline(s.tokens),t=s.header?"th":"td";return(s.align?`<${t} align="${s.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:s}){return`<strong>${this.parser.parseInline(s)}</strong>`}em({tokens:s}){return`<em>${this.parser.parseInline(s)}</em>`}codespan({text:s}){return`<code>${G(s,!0)}</code>`}br(s){return"<br>"}del({tokens:s}){return`<del>${this.parser.parseInline(s)}</del>`}link({href:s,title:e,tokens:t}){let n=this.parser.parseInline(t),i=Mn(s);if(i===null)return n;s=i;let r='<a href="'+s+'"';return e&&(r+=' title="'+G(e)+'"'),r+=">"+n+"</a>",r}image({href:s,title:e,text:t,tokens:n}){n&&(t=this.parser.parseInline(n,this.parser.textRenderer));let i=Mn(s);if(i===null)return G(t);s=i;let r=`<img src="${s}" alt="${t}"`;return e&&(r+=` title="${G(e)}"`),r+=">",r}text(s){return"tokens"in s&&s.tokens?this.parser.parseInline(s.tokens):"escaped"in s&&s.escaped?s.text:G(s.text)}},Nt=class{strong({text:s}){return s}em({text:s}){return s}codespan({text:s}){return s}del({text:s}){return s}html({text:s}){return s}text({text:s}){return s}link({text:s}){return""+s}image({text:s}){return""+s}br(){return""}},V=class on{constructor(e){b(this,"options");b(this,"renderer");b(this,"textRenderer");this.options=e||ce,this.options.renderer=this.options.renderer||new nt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Nt}static parse(e,t){return new on(t).parse(e)}static parseInline(e,t){return new on(t).parseInline(e)}parse(e,t=!0){var i,r;let n="";for(let a=0;a<e.length;a++){let l=e[a];if((r=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&r[l.type]){let h=l,p=this.options.extensions.renderers[h.type].call({parser:this},h);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)){n+=p||"";continue}}let c=l;switch(c.type){case"space":{n+=this.renderer.space(c);continue}case"hr":{n+=this.renderer.hr(c);continue}case"heading":{n+=this.renderer.heading(c);continue}case"code":{n+=this.renderer.code(c);continue}case"table":{n+=this.renderer.table(c);continue}case"blockquote":{n+=this.renderer.blockquote(c);continue}case"list":{n+=this.renderer.list(c);continue}case"html":{n+=this.renderer.html(c);continue}case"paragraph":{n+=this.renderer.paragraph(c);continue}case"text":{let h=c,p=this.renderer.text(h);for(;a+1<e.length&&e[a+1].type==="text";)h=e[++a],p+=`
`+this.renderer.text(h);t?n+=this.renderer.paragraph({type:"paragraph",raw:p,text:p,tokens:[{type:"text",raw:p,text:p,escaped:!0}]}):n+=p;continue}default:{let h='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return n}parseInline(e,t=this.renderer){var i,r;let n="";for(let a=0;a<e.length;a++){let l=e[a];if((r=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&r[l.type]){let h=this.options.extensions.renderers[l.type].call({parser:this},l);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=h||"";continue}}let c=l;switch(c.type){case"escape":{n+=t.text(c);break}case"html":{n+=t.html(c);break}case"link":{n+=t.link(c);break}case"image":{n+=t.image(c);break}case"strong":{n+=t.strong(c);break}case"em":{n+=t.em(c);break}case"codespan":{n+=t.codespan(c);break}case"br":{n+=t.br(c);break}case"del":{n+=t.del(c);break}case"text":{n+=t.text(c);break}default:{let h='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return n}},st=(Wt=class{constructor(s){b(this,"options");b(this,"block");this.options=s||ce}preprocess(s){return s}postprocess(s){return s}processAllTokens(s){return s}provideLexer(){return this.block?X.lex:X.lexInline}provideParser(){return this.block?V.parse:V.parseInline}},b(Wt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Wt),qi=class{constructor(...s){b(this,"defaults",Et());b(this,"options",this.setOptions);b(this,"parse",this.parseMarkdown(!0));b(this,"parseInline",this.parseMarkdown(!1));b(this,"Parser",V);b(this,"Renderer",nt);b(this,"TextRenderer",Nt);b(this,"Lexer",X);b(this,"Tokenizer",tt);b(this,"Hooks",st);this.use(...s)}walkTokens(s,e){var n,i;let t=[];for(let r of s)switch(t=t.concat(e.call(this,r)),r.type){case"table":{let a=r;for(let l of a.header)t=t.concat(this.walkTokens(l.tokens,e));for(let l of a.rows)for(let c of l)t=t.concat(this.walkTokens(c.tokens,e));break}case"list":{let a=r;t=t.concat(this.walkTokens(a.items,e));break}default:{let a=r;(i=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{let c=a[l].flat(1/0);t=t.concat(this.walkTokens(c,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}use(...s){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return s.forEach(t=>{let n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let r=e.renderers[i.name];r?e.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=r.apply(this,a)),l}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let r=e[i.level];r?r.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),n.extensions=e),t.renderer){let i=this.defaults.renderer||new nt(this.defaults);for(let r in t.renderer){if(!(r in i))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;let a=r,l=t.renderer[a],c=i[a];i[a]=(...h)=>{let p=l.apply(i,h);return p===!1&&(p=c.apply(i,h)),p||""}}n.renderer=i}if(t.tokenizer){let i=this.defaults.tokenizer||new tt(this.defaults);for(let r in t.tokenizer){if(!(r in i))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;let a=r,l=t.tokenizer[a],c=i[a];i[a]=(...h)=>{let p=l.apply(i,h);return p===!1&&(p=c.apply(i,h)),p}}n.tokenizer=i}if(t.hooks){let i=this.defaults.hooks||new st;for(let r in t.hooks){if(!(r in i))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;let a=r,l=t.hooks[a],c=i[a];st.passThroughHooks.has(r)?i[a]=h=>{if(this.defaults.async)return Promise.resolve(l.call(i,h)).then(g=>c.call(i,g));let p=l.call(i,h);return c.call(i,p)}:i[a]=(...h)=>{let p=l.apply(i,h);return p===!1&&(p=c.apply(i,h)),p}}n.hooks=i}if(t.walkTokens){let i=this.defaults.walkTokens,r=t.walkTokens;n.walkTokens=function(a){let l=[];return l.push(r.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...n}}),this}setOptions(s){return this.defaults={...this.defaults,...s},this}lexer(s,e){return X.lex(s,e??this.defaults)}parser(s,e){return V.parse(s,e??this.defaults)}parseMarkdown(s){return(e,t)=>{let n={...t},i={...this.defaults,...n},r=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&n.async===!1)return r(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=s);let a=i.hooks?i.hooks.provideLexer():s?X.lex:X.lexInline,l=i.hooks?i.hooks.provideParser():s?V.parse:V.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(e):e).then(c=>a(c,i)).then(c=>i.hooks?i.hooks.processAllTokens(c):c).then(c=>i.walkTokens?Promise.all(this.walkTokens(c,i.walkTokens)).then(()=>c):c).then(c=>l(c,i)).then(c=>i.hooks?i.hooks.postprocess(c):c).catch(r);try{i.hooks&&(e=i.hooks.preprocess(e));let c=a(e,i);i.hooks&&(c=i.hooks.processAllTokens(c)),i.walkTokens&&this.walkTokens(c,i.walkTokens);let h=l(c,i);return i.hooks&&(h=i.hooks.postprocess(h)),h}catch(c){return r(c)}}}onError(s,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,s){let n="<p>An error occurred:</p><pre>"+G(t.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(t);throw t}}},he=new qi;function A(s,e){return he.parse(s,e)}A.options=A.setOptions=function(s){return he.setOptions(s),A.defaults=he.defaults,wn(A.defaults),A},A.getDefaults=Et,A.defaults=ce,A.use=function(...s){return he.use(...s),A.defaults=he.defaults,wn(A.defaults),A},A.walkTokens=function(s,e){return he.walkTokens(s,e)},A.parseInline=he.parseInline,A.Parser=V,A.parser=V.parse,A.Renderer=nt,A.TextRenderer=Nt,A.Lexer=X,A.lexer=X.lex,A.Tokenizer=tt,A.Hooks=st,A.parse=A,A.options,A.setOptions,A.use,A.walkTokens,A.parseInline,V.parse,X.lex;/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Un,setPrototypeOf:Hn,isFrozen:Gi,getPrototypeOf:ji,getOwnPropertyDescriptor:Zi}=Object;let{freeze:M,seal:F,create:Bn}=Object,{apply:Mt,construct:Dt}=typeof Reflect<"u"&&Reflect;M||(M=function(e){return e}),F||(F=function(e){return e}),Mt||(Mt=function(e,t,n){return e.apply(t,n)}),Dt||(Dt=function(e,t){return new e(...t)});const it=z(Array.prototype.forEach),Yi=z(Array.prototype.lastIndexOf),Fn=z(Array.prototype.pop),ze=z(Array.prototype.push),Xi=z(Array.prototype.splice),rt=z(String.prototype.toLowerCase),zt=z(String.prototype.toString),Wn=z(String.prototype.match),Ue=z(String.prototype.replace),Vi=z(String.prototype.indexOf),Ki=z(String.prototype.trim),q=z(Object.prototype.hasOwnProperty),D=z(RegExp.prototype.test),He=Qi(TypeError);function z(s){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Mt(s,e,n)}}function Qi(s){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Dt(s,t)}}function k(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rt;Hn&&Hn(s,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const r=t(i);r!==i&&(Gi(e)||(e[n]=r),i=r)}s[i]=!0}return s}function Ji(s){for(let e=0;e<s.length;e++)q(s,e)||(s[e]=null);return s}function K(s){const e=Bn(null);for(const[t,n]of Un(s))q(s,t)&&(Array.isArray(n)?e[t]=Ji(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=K(n):e[t]=n);return e}function Be(s,e){for(;s!==null;){const n=Zi(s,e);if(n){if(n.get)return z(n.get);if(typeof n.value=="function")return z(n.value)}s=ji(s)}function t(){return null}return t}const qn=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ut=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ht=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),er=M(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bt=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tr=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Gn=M(["#text"]),jn=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ft=M(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zn=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ot=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),nr=F(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sr=F(/<%[\w\W]*|[\w\W]*%>/gm),ir=F(/\$\{[\w\W]*/gm),rr=F(/^data-[\-\w.\u00B7-\uFFFF]+$/),or=F(/^aria-[\-\w]+$/),Yn=F(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ar=F(/^(?:\w+script|data):/i),lr=F(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Xn=F(/^html$/i),cr=F(/^[a-z][.\w]*(-[.\w]+)+$/i);var Vn=Object.freeze({__proto__:null,ARIA_ATTR:or,ATTR_WHITESPACE:lr,CUSTOM_ELEMENT:cr,DATA_ATTR:rr,DOCTYPE_NAME:Xn,ERB_EXPR:sr,IS_ALLOWED_URI:Yn,IS_SCRIPT_OR_DATA:ar,MUSTACHE_EXPR:nr,TMPLIT_EXPR:ir});const Fe={element:1,text:3,progressingInstruction:7,comment:8,document:9},hr=function(){return typeof window>"u"?null:window},pr=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(n=t.getAttribute(i));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},Kn=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Qn(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hr();const e=m=>Qn(m);if(e.version="3.2.6",e.removed=[],!s||!s.document||s.document.nodeType!==Fe.document||!s.Element)return e.isSupported=!1,e;let{document:t}=s;const n=t,i=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:h,NamedNodeMap:p=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:g,DOMParser:d,trustedTypes:x}=s,_=c.prototype,O=Be(_,"cloneNode"),at=Be(_,"remove"),We=Be(_,"nextSibling"),lt=Be(_,"childNodes"),pe=Be(_,"parentNode");if(typeof a=="function"){const m=t.createElement("template");m.content&&m.content.ownerDocument&&(t=m.content.ownerDocument)}let R,ue="";const{implementation:de,createNodeIterator:fe,createDocumentFragment:kr,getElementsByTagName:_r}=t,{importNode:xr}=n;let U=Kn();e.isSupported=typeof Un=="function"&&typeof pe=="function"&&de&&de.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:qt,ERB_EXPR:Gt,TMPLIT_EXPR:jt,DATA_ATTR:yr,ARIA_ATTR:Ar,IS_SCRIPT_OR_DATA:wr,ATTR_WHITESPACE:ts,CUSTOM_ELEMENT:Tr}=Vn;let{IS_ALLOWED_URI:ns}=Vn,v=null;const ss=k({},[...qn,...Ut,...Ht,...Bt,...Gn]);let I=null;const is=k({},[...jn,...Ft,...Zn,...ot]);let S=Object.seal(Bn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),qe=null,Zt=null,rs=!0,Yt=!0,os=!1,as=!0,xe=!1,ct=!0,ge=!1,Xt=!1,Vt=!1,ye=!1,ht=!1,pt=!1,ls=!0,cs=!1;const Sr="user-content-";let Kt=!0,Ge=!1,Ae={},we=null;const hs=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ps=null;const us=k({},["audio","video","img","source","image","track"]);let Qt=null;const ds=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ut="http://www.w3.org/1998/Math/MathML",dt="http://www.w3.org/2000/svg",Q="http://www.w3.org/1999/xhtml";let Te=Q,Jt=!1,en=null;const Er=k({},[ut,dt,Q],zt);let ft=k({},["mi","mo","mn","ms","mtext"]),gt=k({},["annotation-xml"]);const $r=k({},["title","style","font","a","script"]);let je=null;const Rr=["application/xhtml+xml","text/html"],vr="text/html";let C=null,Se=null;const Cr=t.createElement("form"),fs=function(o){return o instanceof RegExp||o instanceof Function},tn=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Se&&Se===o)){if((!o||typeof o!="object")&&(o={}),o=K(o),je=Rr.indexOf(o.PARSER_MEDIA_TYPE)===-1?vr:o.PARSER_MEDIA_TYPE,C=je==="application/xhtml+xml"?zt:rt,v=q(o,"ALLOWED_TAGS")?k({},o.ALLOWED_TAGS,C):ss,I=q(o,"ALLOWED_ATTR")?k({},o.ALLOWED_ATTR,C):is,en=q(o,"ALLOWED_NAMESPACES")?k({},o.ALLOWED_NAMESPACES,zt):Er,Qt=q(o,"ADD_URI_SAFE_ATTR")?k(K(ds),o.ADD_URI_SAFE_ATTR,C):ds,ps=q(o,"ADD_DATA_URI_TAGS")?k(K(us),o.ADD_DATA_URI_TAGS,C):us,we=q(o,"FORBID_CONTENTS")?k({},o.FORBID_CONTENTS,C):hs,qe=q(o,"FORBID_TAGS")?k({},o.FORBID_TAGS,C):K({}),Zt=q(o,"FORBID_ATTR")?k({},o.FORBID_ATTR,C):K({}),Ae=q(o,"USE_PROFILES")?o.USE_PROFILES:!1,rs=o.ALLOW_ARIA_ATTR!==!1,Yt=o.ALLOW_DATA_ATTR!==!1,os=o.ALLOW_UNKNOWN_PROTOCOLS||!1,as=o.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xe=o.SAFE_FOR_TEMPLATES||!1,ct=o.SAFE_FOR_XML!==!1,ge=o.WHOLE_DOCUMENT||!1,ye=o.RETURN_DOM||!1,ht=o.RETURN_DOM_FRAGMENT||!1,pt=o.RETURN_TRUSTED_TYPE||!1,Vt=o.FORCE_BODY||!1,ls=o.SANITIZE_DOM!==!1,cs=o.SANITIZE_NAMED_PROPS||!1,Kt=o.KEEP_CONTENT!==!1,Ge=o.IN_PLACE||!1,ns=o.ALLOWED_URI_REGEXP||Yn,Te=o.NAMESPACE||Q,ft=o.MATHML_TEXT_INTEGRATION_POINTS||ft,gt=o.HTML_INTEGRATION_POINTS||gt,S=o.CUSTOM_ELEMENT_HANDLING||{},o.CUSTOM_ELEMENT_HANDLING&&fs(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(S.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&fs(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(S.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(S.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xe&&(Yt=!1),ht&&(ye=!0),Ae&&(v=k({},Gn),I=[],Ae.html===!0&&(k(v,qn),k(I,jn)),Ae.svg===!0&&(k(v,Ut),k(I,Ft),k(I,ot)),Ae.svgFilters===!0&&(k(v,Ht),k(I,Ft),k(I,ot)),Ae.mathMl===!0&&(k(v,Bt),k(I,Zn),k(I,ot))),o.ADD_TAGS&&(v===ss&&(v=K(v)),k(v,o.ADD_TAGS,C)),o.ADD_ATTR&&(I===is&&(I=K(I)),k(I,o.ADD_ATTR,C)),o.ADD_URI_SAFE_ATTR&&k(Qt,o.ADD_URI_SAFE_ATTR,C),o.FORBID_CONTENTS&&(we===hs&&(we=K(we)),k(we,o.FORBID_CONTENTS,C)),Kt&&(v["#text"]=!0),ge&&k(v,["html","head","body"]),v.table&&(k(v,["tbody"]),delete qe.tbody),o.TRUSTED_TYPES_POLICY){if(typeof o.TRUSTED_TYPES_POLICY.createHTML!="function")throw He('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof o.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw He('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=o.TRUSTED_TYPES_POLICY,ue=R.createHTML("")}else R===void 0&&(R=pr(x,i)),R!==null&&typeof ue=="string"&&(ue=R.createHTML(""));M&&M(o),Se=o}},gs=k({},[...Ut,...Ht,...er]),ms=k({},[...Bt,...tr]),Ir=function(o){let u=pe(o);(!u||!u.tagName)&&(u={namespaceURI:Te,tagName:"template"});const f=rt(o.tagName),w=rt(u.tagName);return en[o.namespaceURI]?o.namespaceURI===dt?u.namespaceURI===Q?f==="svg":u.namespaceURI===ut?f==="svg"&&(w==="annotation-xml"||ft[w]):!!gs[f]:o.namespaceURI===ut?u.namespaceURI===Q?f==="math":u.namespaceURI===dt?f==="math"&&gt[w]:!!ms[f]:o.namespaceURI===Q?u.namespaceURI===dt&&!gt[w]||u.namespaceURI===ut&&!ft[w]?!1:!ms[f]&&($r[f]||!gs[f]):!!(je==="application/xhtml+xml"&&en[o.namespaceURI]):!1},j=function(o){ze(e.removed,{element:o});try{pe(o).removeChild(o)}catch{at(o)}},Ee=function(o,u){try{ze(e.removed,{attribute:u.getAttributeNode(o),from:u})}catch{ze(e.removed,{attribute:null,from:u})}if(u.removeAttribute(o),o==="is")if(ye||ht)try{j(u)}catch{}else try{u.setAttribute(o,"")}catch{}},bs=function(o){let u=null,f=null;if(Vt)o="<remove></remove>"+o;else{const $=Wn(o,/^[\r\n\t ]+/);f=$&&$[0]}je==="application/xhtml+xml"&&Te===Q&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");const w=R?R.createHTML(o):o;if(Te===Q)try{u=new d().parseFromString(w,je)}catch{}if(!u||!u.documentElement){u=de.createDocument(Te,"template",null);try{u.documentElement.innerHTML=Jt?ue:w}catch{}}const L=u.body||u.documentElement;return o&&f&&L.insertBefore(t.createTextNode(f),L.childNodes[0]||null),Te===Q?_r.call(u,ge?"html":"body")[0]:ge?u.documentElement:L},ks=function(o){return fe.call(o.ownerDocument||o,o,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},nn=function(o){return o instanceof g&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof p)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function"||typeof o.hasChildNodes!="function")},_s=function(o){return typeof l=="function"&&o instanceof l};function J(m,o,u){it(m,f=>{f.call(e,o,u,Se)})}const xs=function(o){let u=null;if(J(U.beforeSanitizeElements,o,null),nn(o))return j(o),!0;const f=C(o.nodeName);if(J(U.uponSanitizeElement,o,{tagName:f,allowedTags:v}),ct&&o.hasChildNodes()&&!_s(o.firstElementChild)&&D(/<[/\w!]/g,o.innerHTML)&&D(/<[/\w!]/g,o.textContent)||o.nodeType===Fe.progressingInstruction||ct&&o.nodeType===Fe.comment&&D(/<[/\w]/g,o.data))return j(o),!0;if(!v[f]||qe[f]){if(!qe[f]&&As(f)&&(S.tagNameCheck instanceof RegExp&&D(S.tagNameCheck,f)||S.tagNameCheck instanceof Function&&S.tagNameCheck(f)))return!1;if(Kt&&!we[f]){const w=pe(o)||o.parentNode,L=lt(o)||o.childNodes;if(L&&w){const $=L.length;for(let H=$-1;H>=0;--H){const ee=O(L[H],!0);ee.__removalCount=(o.__removalCount||0)+1,w.insertBefore(ee,We(o))}}}return j(o),!0}return o instanceof c&&!Ir(o)||(f==="noscript"||f==="noembed"||f==="noframes")&&D(/<\/no(script|embed|frames)/i,o.innerHTML)?(j(o),!0):(xe&&o.nodeType===Fe.text&&(u=o.textContent,it([qt,Gt,jt],w=>{u=Ue(u,w," ")}),o.textContent!==u&&(ze(e.removed,{element:o.cloneNode()}),o.textContent=u)),J(U.afterSanitizeElements,o,null),!1)},ys=function(o,u,f){if(ls&&(u==="id"||u==="name")&&(f in t||f in Cr))return!1;if(!(Yt&&!Zt[u]&&D(yr,u))){if(!(rs&&D(Ar,u))){if(!I[u]||Zt[u]){if(!(As(o)&&(S.tagNameCheck instanceof RegExp&&D(S.tagNameCheck,o)||S.tagNameCheck instanceof Function&&S.tagNameCheck(o))&&(S.attributeNameCheck instanceof RegExp&&D(S.attributeNameCheck,u)||S.attributeNameCheck instanceof Function&&S.attributeNameCheck(u))||u==="is"&&S.allowCustomizedBuiltInElements&&(S.tagNameCheck instanceof RegExp&&D(S.tagNameCheck,f)||S.tagNameCheck instanceof Function&&S.tagNameCheck(f))))return!1}else if(!Qt[u]){if(!D(ns,Ue(f,ts,""))){if(!((u==="src"||u==="xlink:href"||u==="href")&&o!=="script"&&Vi(f,"data:")===0&&ps[o])){if(!(os&&!D(wr,Ue(f,ts,"")))){if(f)return!1}}}}}}return!0},As=function(o){return o!=="annotation-xml"&&Wn(o,Tr)},ws=function(o){J(U.beforeSanitizeAttributes,o,null);const{attributes:u}=o;if(!u||nn(o))return;const f={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I,forceKeepAttr:void 0};let w=u.length;for(;w--;){const L=u[w],{name:$,namespaceURI:H,value:ee}=L,Ze=C($),sn=ee;let P=$==="value"?sn:Ki(sn);if(f.attrName=Ze,f.attrValue=P,f.keepAttr=!0,f.forceKeepAttr=void 0,J(U.uponSanitizeAttribute,o,f),P=f.attrValue,cs&&(Ze==="id"||Ze==="name")&&(Ee($,o),P=Sr+P),ct&&D(/((--!?|])>)|<\/(style|title)/i,P)){Ee($,o);continue}if(f.forceKeepAttr)continue;if(!f.keepAttr){Ee($,o);continue}if(!as&&D(/\/>/i,P)){Ee($,o);continue}xe&&it([qt,Gt,jt],Ss=>{P=Ue(P,Ss," ")});const Ts=C(o.nodeName);if(!ys(Ts,Ze,P)){Ee($,o);continue}if(R&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!H)switch(x.getAttributeType(Ts,Ze)){case"TrustedHTML":{P=R.createHTML(P);break}case"TrustedScriptURL":{P=R.createScriptURL(P);break}}if(P!==sn)try{H?o.setAttributeNS(H,$,P):o.setAttribute($,P),nn(o)?j(o):Fn(e.removed)}catch{Ee($,o)}}J(U.afterSanitizeAttributes,o,null)},Or=function m(o){let u=null;const f=ks(o);for(J(U.beforeSanitizeShadowDOM,o,null);u=f.nextNode();)J(U.uponSanitizeShadowNode,u,null),xs(u),ws(u),u.content instanceof r&&m(u.content);J(U.afterSanitizeShadowDOM,o,null)};return e.sanitize=function(m){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=null,f=null,w=null,L=null;if(Jt=!m,Jt&&(m="<!-->"),typeof m!="string"&&!_s(m))if(typeof m.toString=="function"){if(m=m.toString(),typeof m!="string")throw He("dirty is not a string, aborting")}else throw He("toString is not a function");if(!e.isSupported)return m;if(Xt||tn(o),e.removed=[],typeof m=="string"&&(Ge=!1),Ge){if(m.nodeName){const ee=C(m.nodeName);if(!v[ee]||qe[ee])throw He("root node is forbidden and cannot be sanitized in-place")}}else if(m instanceof l)u=bs("<!---->"),f=u.ownerDocument.importNode(m,!0),f.nodeType===Fe.element&&f.nodeName==="BODY"||f.nodeName==="HTML"?u=f:u.appendChild(f);else{if(!ye&&!xe&&!ge&&m.indexOf("<")===-1)return R&&pt?R.createHTML(m):m;if(u=bs(m),!u)return ye?null:pt?ue:""}u&&Vt&&j(u.firstChild);const $=ks(Ge?m:u);for(;w=$.nextNode();)xs(w),ws(w),w.content instanceof r&&Or(w.content);if(Ge)return m;if(ye){if(ht)for(L=kr.call(u.ownerDocument);u.firstChild;)L.appendChild(u.firstChild);else L=u;return(I.shadowroot||I.shadowrootmode)&&(L=xr.call(n,L,!0)),L}let H=ge?u.outerHTML:u.innerHTML;return ge&&v["!doctype"]&&u.ownerDocument&&u.ownerDocument.doctype&&u.ownerDocument.doctype.name&&D(Xn,u.ownerDocument.doctype.name)&&(H="<!DOCTYPE "+u.ownerDocument.doctype.name+`>
`+H),xe&&it([qt,Gt,jt],ee=>{H=Ue(H,ee," ")}),R&&pt?R.createHTML(H):H},e.setConfig=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tn(m),Xt=!0},e.clearConfig=function(){Se=null,Xt=!1},e.isValidAttribute=function(m,o,u){Se||tn({});const f=C(m),w=C(o);return ys(f,w,u)},e.addHook=function(m,o){typeof o=="function"&&ze(U[m],o)},e.removeHook=function(m,o){if(o!==void 0){const u=Yi(U[m],o);return u===-1?void 0:Xi(U[m],u,1)[0]}return Fn(U[m])},e.removeHooks=function(m){U[m]=[]},e.removeAllHooks=function(){U=Kn()},e}var ur=Qn();function dr(s){const e=A.parse(s);return ur.sanitize(e)}var Jn=Object.defineProperty,fr=Object.getOwnPropertyDescriptor,gr=(s,e,t)=>e in s?Jn(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,W=(s,e,t,n)=>{for(var i=n>1?void 0:n?fr(e,t):e,r=s.length-1,a;r>=0;r--)(a=s[r])&&(i=(n?a(e,t,i):a(i))||i);return n&&i&&Jn(e,t,i),i},mr=(s,e,t)=>gr(s,e+"",t);const br=()=>{const s=document.querySelectorAll("script");return Array.from(s).find(e=>{var t;return((t=e.src)==null?void 0:t.includes("widget"))||e.dataset.site})};return T.ChatbotWidget=class extends Le{constructor(){super(...arguments);b(this,"siteId","site-001");b(this,"siteToken","");b(this,"position","right");b(this,"themeColor","#4caf50");b(this,"title","Chatbot");b(this,"messages",[]);b(this,"userInput","");b(this,"isLoading",!1);b(this,"typingIndicator",null);b(this,"sessionId",null);b(this,"isChatOpen",!1);b(this,"typingInterval",null)}connectedCallback(){super.connectedCallback(),console.log("[ChatbotWidget] Connected"),this.loadConfiguration(),console.log("[ChatbotWidget] Site ID:",this.siteId),this.initSession()}firstUpdated(){this.sendWelcomeMessage()}loadConfiguration(){const t=document.currentScript||br();if(!t){console.warn("[ChatbotWidget] Không tìm thấy <script> để đọc config.");return}const i=new URL(t.src,location.href).searchParams,r=window.ChatboxWidgetConfig;r&&(r.position&&(this.position=r.position),r.themeColor&&(this.themeColor=r.themeColor),r.title&&(this.title=r.title));const a=i.get("id");a&&(this.siteId=a);const l=t.dataset.site;!a&&l&&(this.siteId=l);const c=t.dataset.token;c&&(this.siteToken=c),this.style.setProperty("--chatbot-primary-color",this.themeColor),this.style.setProperty("--chatbot-primary-light-color",this.themeColor+"B3"),this.style.setProperty("--chatbot-position",this.position)}async initSession(){let t=ni();if(t)An(t,(n,i)=>{this.siteToken=n,this.sessionId=i});else try{t=await ii(this.siteId),An(t,(n,i)=>{this.siteToken=n,this.sessionId=i})}catch(n){console.error("[ChatbotWidget] Failed to initiate new session:",n),this.messages=[...this.messages,{content:"Lỗi: Không thể khởi tạo phiên chat.",role:Y.Assistant}]}}render(){return Oe`
      <button class="chat-button" @click=${this.toggleChat}>
        ${this.isChatOpen?Oe`&#x2715;`:Oe`&#x1F4AC;`}
        <!-- X or Chat bubble icon -->
      </button>

      <div class="container ${this.isChatOpen?"open":""}">
        <div class="header">${this.title}</div>
        <div class="messages">
          ${this.messages.map(t=>Oe`<div class="message ${t.role}">
              ${t.role===Y.Assistant?ei(t.content):t.content}
            </div>`)}
          ${this.typingIndicator?Oe`<div class="message assistant typing">${this.typingIndicator}</div>`:""}
        </div>
        <div class="input-area">
          <input
            type="text"
            .value=${this.userInput}
            @input=${this.handleInput}
            @keydown=${this.handleKeyDown}
            placeholder="Đặt câu hỏi..."
            ?disabled=${this.isLoading}
          />
          <button @click=${this.sendMessage} ?disabled=${this.isLoading||!this.userInput.trim()}>
            ${this.isLoading?"...":"Gửi"}
          </button>
        </div>
      </div>
    `}toggleChat(){this.isChatOpen=!this.isChatOpen,this.isChatOpen&&this.updateComplete.then(()=>this.scrollToBottom())}async sendWelcomeMessage(){const t="<p>Xin chào! Tôi có thể giúp gì cho bạn hôm nay?</p>";this.startTyping(),await new Promise(n=>setTimeout(n,1e3)),this.stopTyping(),this.messages=[...this.messages,{content:t,role:Y.Assistant}],this.requestUpdate(),this.scrollToBottom()}handleInput(t){this.userInput=t.target.value}handleKeyDown(t){t.key==="Enter"&&this.sendMessage()}async sendMessage(){var i;const t=this.userInput.trim();if(this.isLoading||!t||!this.sessionId)return;this.isLoading=!0,this.userInput="",await this.requestUpdate();const n=(i=this.shadowRoot)==null?void 0:i.querySelector("input");n&&(n.value="",n.blur()),this.messages=[...this.messages,{content:t,role:Y.User}],this.startTyping();try{const r=await li(this.siteId,this.messages,this.siteToken,this.sessionId);this.stopTyping();const a=dr(r);this.messages=[...this.messages,{content:a,role:Y.Assistant}]}catch(r){console.error("Error sending message:",r),this.stopTyping(),this.messages=[...this.messages,{content:"Lỗi: Không lấy được câu trả lời.",role:Y.Assistant}]}finally{this.isLoading=!1,await this.requestUpdate(),this.scrollToBottom()}}startTyping(){const t=["Đang gõ.","Đang gõ..","Đang gõ..."];let n=0;this.typingIndicator=t[0],this.typingInterval=window.setInterval(()=>{n=(n+1)%t.length,this.typingIndicator=t[n],this.requestUpdate(),this.scrollToBottom()},500)}stopTyping(){this.typingInterval&&(clearInterval(this.typingInterval),this.typingInterval=null),this.typingIndicator=null}scrollToBottom(){var n;const t=(n=this.shadowRoot)==null?void 0:n.querySelector(".messages");t&&(t.scrollTop=t.scrollHeight)}},mr(T.ChatbotWidget,"styles",vs`
    :host {
      display: block;
      font-size: 13px;
      font-family: sans-serif;
      --chatbot-primary-color: #4caf50; /* Default, overridden by themeColor */
      --chatbot-primary-light-color: rgba(76, 175, 79, 0.7); /* Default, overridden by themeColor */
      --chatbot-text-color: #333;
      --chatbot-bg-color: #f9f9f9;
      --chatbot-border-color: #ddd;
      --chatbot-position: right; /* Default, overridden by position */
    }

    .chat-button {
      position: fixed;
      bottom: 20px;
      z-index: 10000;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: var(--chatbot-primary-color);
      color: white;
      border: none;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.3s ease;
      left: var(--chatbot-position, right) == 'left' ? 20px : auto;
      right: var(--chatbot-position, right) == 'right' ? 20px : auto;
    }

    .chat-button:hover {
      background-color: #45a049;
      transform: scale(1.05);
    }

    .container {
      border: 1px solid var(--chatbot-border-color);
      border-radius: 8px;
      width: 350px;
      height: 450px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      background-color: var(--chatbot-bg-color);
      position: fixed;
      bottom: 20px;
      z-index: 9999;
      /* Position based on --chatbot-position */
      left: var(--chatbot-position, right) == 'left' ? 20px : auto;
      right: var(--chatbot-position, right) == 'right' ? 20px : auto;
      transform: translateY(100%); /* Start hidden below the screen */
      opacity: 0;
      visibility: hidden;
      transition: transform 0.3s ease-out, opacity 0.3s ease-out, visibility 0.3s ease-out;
    }

    .container.open {
      transform: translateY(0); /* Slide up into view */
      opacity: 1;
      visibility: visible;
    }

    .header {
      background-color: var(--chatbot-primary-color);
      color: white;
      padding: 10px;
      text-align: center;
      font-weight: bold;
    }

    p {
      margin-top: 0;
      margin-bottom: 0.5rem;
    }

    .messages {
      flex-grow: 1;
      padding: 10px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }

    .message {
      margin-bottom: 8px;
      padding: 10px;
      border-radius: 10px;
      max-width: 80%;
    }

    .message.user {
      align-self: flex-end;
      background-color: #e0e0e0;
      color: var(--chatbot-text-color);
      border-bottom-right-radius: 2px;
    }

    .message.assistant {
      align-self: flex-start;
      background-color: var(--chatbot-primary-color);
      color: white;
      border-bottom-left-radius: 2px;
      &.typing {
        font-style: italic;
        background-color: var(--chatbot-primary-light-color);
      }

      p:last-child {
        margin-bottom: 0;
      }
    }

    .input-area {
      display: flex;
      padding: 10px;
      border-top: 1px solid var(--chatbot-border-color);
    }

    input {
      flex-grow: 1;
      padding: 8px;
      border: 1px solid var(--chatbot-border-color);
      border-radius: 4px;
      margin-right: 8px;
    }

    button {
      background-color: var(--chatbot-primary-color);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #45a049;
    }

    button:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }
  `),W([ke({type:String})],T.ChatbotWidget.prototype,"siteId",2),W([ke({type:String})],T.ChatbotWidget.prototype,"siteToken",2),W([ke({type:String})],T.ChatbotWidget.prototype,"position",2),W([ke({type:String})],T.ChatbotWidget.prototype,"themeColor",2),W([ke({type:String})],T.ChatbotWidget.prototype,"title",2),W([_e()],T.ChatbotWidget.prototype,"messages",2),W([_e()],T.ChatbotWidget.prototype,"userInput",2),W([_e()],T.ChatbotWidget.prototype,"isLoading",2),W([_e()],T.ChatbotWidget.prototype,"typingIndicator",2),W([_e()],T.ChatbotWidget.prototype,"sessionId",2),W([_e()],T.ChatbotWidget.prototype,"isChatOpen",2),T.ChatbotWidget=W([Ys("chatbot-widget")],T.ChatbotWidget),window.addEventListener("load",()=>{const s=document.createElement("chatbot-widget");document.body.appendChild(s),console.log("[ChatbotWidget] Auto-loaded.")}),Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),T}({});
